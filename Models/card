<?php
    require_once '../controllers/DBController.php';
    class Card{
        private $id;
        private $user_id;
        private $name;
        private $number;
        private $cvv;
        private $ipn_code;
        private $balance;
        private $favourite;
        protected $db;

    public function getId() {
        return $this->id;
    }

    public function setId($id) {
        $this->id = $id;
    }

    public function getUserId() {
        return $this->user_id;
    }

    public function setUserId($user_id) {
        $this->user_id = $user_id;
    }

    public function getName() {
        return $this->name;
    }

    public function setName($name) {
        $this->name = $name;
    }

    public function getNumber() {
        return $this->number;
    }

    public function setNumber($number) {
        $this->number = $number;
    }

    public function getCvv() {
        return $this->cvv;
    }

    public function setCvv($cvv) {
        $this->ccv = $cvv;
    }

    public function getIpnCode() {
        return $this->ipn_code;
    }

    public function setIpnCode($ipn_code) {
        $this->ipn_code = $ipn_code;
    }

    public function getBalance() {
        return $this->balance;
    }

    public function setBalance($balance) {
        $this->balance = $balance;
    }

    public function getFavourite() {
        return $this->favourite;
    }

    public function setFavourite($favourite) {
        $this->favourite = $favourite;
    }

    public function addCard(Card $card)
    {
         $this->db=new DBController;
         if($this->db->openConnection())
         {
            $check = "SELECT * From bankcards where [number]='$card->cvv' and cvv='$card->cvv'";
            $variable=$this->db->select($check); 
            if (mysqli_num_rows($variable) > 0 ){

                $query="insert into usercards values ('','$card->user_id','$card->name','$card->number','$card->cvv','$card->ipn_code','0000','0')";
                 return $this->db->insert($query);
            }

            
         }
         else
         {
            echo "Error in Database Connection";
            return false; 
         }
    }





    }

?>